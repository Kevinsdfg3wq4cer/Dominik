<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lernen mit SchÃ¼tz</title>
<link href="https://fonts.googleapis.com/css2?family=VT323&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  :root {
    --green: #00ff41;
    --dark-green: #003b00;
    --bg: #0a0a0a;
    --card: #0f1a0f;
    --red: #ff3333;
    --yellow: #ffff00;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    background: var(--bg);
    color: var(--green);
    font-family: 'Share Tech Mono', monospace;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background-image: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,255,65,0.02) 2px, rgba(0,255,65,0.02) 4px);
  }
  .scanline {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: repeating-linear-gradient(0deg, rgba(0,0,0,0.12) 0px, rgba(0,0,0,0.12) 1px, transparent 1px, transparent 2px);
    pointer-events: none; z-index: 999;
  }
  header { text-align: center; margin-bottom: 24px; animation: flicker 5s infinite; }
  .title {
    font-family: 'VT323', monospace;
    font-size: clamp(2rem, 7vw, 4.2rem);
    text-shadow: 0 0 20px var(--green), 0 0 40px var(--green);
    letter-spacing: 4px;
  }
  .subtitle { font-size: 0.75rem; color: #555; margin-top: 4px; }
  .teacher-badge {
    display: inline-block; background: var(--dark-green);
    border: 1px solid var(--green); padding: 4px 14px;
    font-size: 0.75rem; margin-top: 8px; animation: pulse 2s infinite;
  }
  .chat-container {
    width: 100%; max-width: 820px;
    border: 2px solid var(--green);
    box-shadow: 0 0 30px rgba(0,255,65,0.25), inset 0 0 30px rgba(0,255,65,0.02);
    background: var(--card);
    display: flex; flex-direction: column; height: 62vh;
  }
  .chat-header {
    background: var(--dark-green); border-bottom: 1px solid var(--green);
    padding: 10px 16px; display: flex; align-items: center; gap: 10px;
    font-family: 'VT323', monospace; font-size: 1.15rem;
  }
  .status-dot { width: 10px; height: 10px; background: var(--green); border-radius: 50%; animation: blink 1.5s infinite; }
  .messages {
    flex: 1; overflow-y: auto; padding: 16px;
    display: flex; flex-direction: column; gap: 14px;
    scrollbar-width: thin; scrollbar-color: var(--green) var(--card);
  }
  .msg { max-width: 88%; animation: fadeIn 0.3s ease; }
  .msg.teacher { align-self: flex-start; }
  .msg.student { align-self: flex-end; }
  .msg-label { font-size: 0.65rem; color: #555; margin-bottom: 4px; }
  .msg.teacher .msg-label { color: var(--green); opacity: 0.7; }
  .msg.student .msg-label { text-align: right; color: #888; }
  .msg-bubble { padding: 12px 16px; line-height: 1.65; font-size: 0.87rem; }
  .msg.teacher .msg-bubble {
    background: rgba(0,255,65,0.04);
    border: 1px solid var(--green); border-left: 4px solid var(--green);
  }
  .msg.student .msg-bubble {
    background: rgba(0,100,200,0.1);
    border: 1px solid #336; border-right: 4px solid #66f; color: #aaf;
  }
  .msg.error .msg-bubble {
    border-color: var(--red) !important; border-left: 4px solid var(--red) !important;
    color: var(--red); background: rgba(255,50,50,0.06); animation: shake 0.5s ease;
  }
  .msg.achievement .msg-bubble {
    border-color: var(--yellow) !important; border-left: 4px solid var(--yellow) !important;
    color: var(--yellow); background: rgba(255,255,0,0.05); animation: glowY 1s infinite alternate;
  }
  .typing { display: none; align-self: flex-start; font-size: 0.8rem; color: var(--green); opacity: 0.6; padding: 6px 16px; }
  .typing.active { display: block; }
  .input-area {
    border-top: 1px solid var(--green); padding: 12px;
    display: flex; gap: 10px; background: var(--dark-green);
  }
  input[type="text"] {
    flex: 1; background: transparent; border: 1px solid var(--green);
    color: var(--green); font-family: 'Share Tech Mono', monospace;
    font-size: 0.9rem; padding: 10px 14px; outline: none; caret-color: var(--green);
  }
  input[type="text"]::placeholder { color: rgba(0,255,65,0.3); }
  input[type="text"]:focus { box-shadow: 0 0 10px rgba(0,255,65,0.3); }
  button.send-btn {
    background: var(--green); color: #000; border: none;
    font-family: 'VT323', monospace; font-size: 1.2rem;
    padding: 10px 20px; cursor: pointer; letter-spacing: 2px; transition: all 0.2s;
  }
  button.send-btn:hover { background: #000; color: var(--green); box-shadow: 0 0 15px rgba(0,255,65,0.5); outline: 1px solid var(--green); }
  .quick-btns { width: 100%; max-width: 820px; display: flex; gap: 8px; margin-top: 10px; flex-wrap: wrap; }
  .quick-btn {
    background: transparent; color: var(--green); border: 1px solid var(--green);
    font-family: 'Share Tech Mono', monospace; font-size: 0.72rem;
    padding: 6px 12px; cursor: pointer; transition: all 0.2s;
  }
  .quick-btn:hover { background: var(--green); color: #000; }
  .achievement-toast {
    position: fixed; top: 20px; right: 20px;
    background: #111; border: 2px solid var(--yellow); color: var(--yellow);
    padding: 14px 18px; font-family: 'VT323', monospace; font-size: 1.05rem;
    z-index: 1000; max-width: 300px; box-shadow: 0 0 30px rgba(255,255,0,0.4); display: none;
  }
  @keyframes flicker { 0%,95%,100%{opacity:1}96%{opacity:.8}97%{opacity:1}98%{opacity:.55}99%{opacity:1} }
  @keyframes blink { 0%,50%,100%{opacity:1}25%,75%{opacity:0} }
  @keyframes pulse { 0%,100%{box-shadow:0 0 5px rgba(0,255,65,.3)}50%{box-shadow:0 0 15px rgba(0,255,65,.7)} }
  @keyframes fadeIn { from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)} }
  @keyframes shake { 0%,100%{transform:translateX(0)}20%{transform:translateX(-8px)}40%{transform:translateX(8px)}60%{transform:translateX(-5px)}80%{transform:translateX(5px)} }
  @keyframes glowY { from{box-shadow:0 0 5px rgba(255,255,0,.3)}to{box-shadow:0 0 20px rgba(255,255,0,.8)} }
  @keyframes toastIn { from{transform:translateX(110%);opacity:0}to{transform:translateX(0);opacity:1} }
  @keyframes toastOut { from{opacity:1}to{opacity:0} }
</style>
</head>
<body>
<div class="scanline"></div>
<div class="achievement-toast" id="achievementToast"></div>

<header>
  <div class="title">LERNEN MIT SCHÃœTZ</div>
  <div class="subtitle">// Informatik â€¢ Mathematik â€¢ Git â€¢ GitHub â€¢ Wissen â€¢ Verwirrung //</div>
  <div class="teacher-badge">âš¡ LEHRER SCHÃœTZ IST ONLINE â€” DIDAKTIK-MODUS: ULTRA-KOMPLEX âš¡</div>
</header>

<div class="chat-container">
  <div class="chat-header">
    <div class="status-dot"></div>
    <span>SCHÃœTZ_BOT v3.14159 â€” Keine API nÃ¶tig. Nur Verwirrung.</span>
  </div>
  <div class="messages" id="messages"></div>
  <div class="typing" id="typing">SchÃ¼tz tippt mit 400 WÃ¶rtern pro Minute...</div>
  <div class="input-area">
    <input type="text" id="userInput" placeholder="Stell eine Frage... wenn du dich traust." maxlength="300" />
    <button class="send-btn" onclick="sendMessage()">SENDEN</button>
  </div>
</div>

<div class="quick-btns">
  <button class="quick-btn" onclick="quickSend('Ich habe es verstanden!')">âœ“ Verstanden!</button>
  <button class="quick-btn" onclick="quickSend('Nein, ich habe es nicht verstanden.')">âœ— Nicht verstanden</button>
  <button class="quick-btn" onclick="quickSend('Was ist eine if-Abfrage?')">if-Abfrage</button>
  <button class="quick-btn" onclick="quickSend('Was ist eine Schleife?')">Schleife</button>
  <button class="quick-btn" onclick="quickSend('Was ist ein Struktogramm?')">Struktogramm</button>
  <button class="quick-btn" onclick="quickSend('Was ist Git?')">Git</button>
  <button class="quick-btn" onclick="quickSend('Was ist GitHub?')">GitHub</button>
  <button class="quick-btn" onclick="quickSend('Was ist der Satz des Pythagoras?')">Pythagoras</button>
  <button class="quick-btn" onclick="quickSend('Was ist eine Variable?')">Variable</button>
  <button class="quick-btn" onclick="quickSend('Was ist eine Funktion?')">Funktion</button>
</div>

<script>
// â”€â”€â”€ ANTWORTEN-DATENBANK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const antworten = [
  {
    keywords: ["if", "abfrage", "bedingung", "wenn", "bedingte"],
    antwort: `Also, wie ich bereits â€” oder vielmehr, prÃ¤ziser formuliert, unter RÃ¼ckbezug auf die konditionale Programmierlogik â€” ausgefÃ¼hrt habe: Die sogenannte IF-Abfrage, auch bekannt als bedingte Kontrollflussanweisung oder selektive Verzweigungsstruktur, ist ein fundamentales Konstrukt der imperativen sowie deklarativen Programmierparadigmen, bei welchem das Laufzeitsystem zur Evaluierungszeit eines booleschen PrÃ¤dikats, also eines Wahrheitswertes der binÃ¤ren Logik â€” wahr (TRUE) oder falsch (FALSE), mhm â€” entscheidet, welchen der mindestens zwei alternativen AusfÃ¼hrungspfade â€” den THEN-Zweig oder den optionalen ELSE-Zweig â€” es traversieren soll. In Pseudocode: WENN [Bedingung = WAHR] DANN [Anweisung A] SONST [Anweisung B]. Haben wir das soweit verstanden, hmm? Mhm?`
  },
  {
    keywords: ["schleife", "loop", "for", "while", "wiederholung", "iteration"],
    antwort: `Also, wenn ich das â€” ich sage es nur ungern zum dritten Mal â€” nochmals iterativ, quasi rekursiv, erlÃ¤utern darf: Eine Schleife ist eine iterative Kontrollstruktur der algorithmischen Ablaufsteuerung, welche einen definierten Anweisungsblock â€” den sogenannten Schleifenrumpf oder Loop-Body â€” solange sequenziell wiederholt ausfÃ¼hrt, bis die zugrundeliegende Abbruchbedingung, das sogenannte TerminierungsprÃ¤dikat, den booleschen Wahrheitswert FALSE annimmt, mhm. Man unterscheidet grundsÃ¤tzlich zwischen der kopfgesteuerten Schleife (WHILE-Schleife, prÃ¼ft VOR jedem Durchlauf), der fuÃŸgesteuerten Schleife (DO-WHILE, prÃ¼ft NACH jedem Durchlauf) und der ZÃ¤hlschleife (FOR-Schleife, mit festem IterationszÃ¤hler). Die Gefahr der Endlosschleife â€” auch infinite loop â€” entsteht, wenn das TerminierungsprÃ¤dikat nie FALSE wird. Habt ihr das soweit verstanden, hmm? Mhm?`
  },
  {
    keywords: ["struktogramm", "nassi", "shneiderman", "struktogramme", "nassi-shneiderman"],
    antwort: `Also, um das â€” ich betone: grundlegende â€” Konzept des Nassi-Shneiderman-Diagramms, welches im deutschsprachigen Raum unter dem Trivialnamen "Struktogramm" subsumiert wird, epistemologisch korrekt zu erfassen: Ein Struktogramm ist eine grafisch-formale Darstellungsmethodik fÃ¼r Algorithmen und ProgrammablÃ¤ufe, entwickelt von Isaac Nassi und Ben Shneiderman anno domini 1972, welche â€” im Gegensatz zum klassischen Flussdiagramm nach DIN 66001 â€” vollstÃ¤ndig auf Verbindungslinien und Sprungbefehle (GOTO) verzichtet, mhm. Die elementaren StrukturblÃ¶cke sind: Sequenz (Ã¼bereinander angeordnete Rechtecke), Selektion (IF-ELSE, geteiltes Rechteck mit Bedingung oben), und Iteration (Schleife mit umrahmtem Rumpf). Dies erzwingt strukturierte Programmierung nach dem Top-Down-Prinzip. Haben wir das verstanden, hmm? Mhm?`
  },
  {
    keywords: ["git"],
    antwort: `Also, Git â€” und das ist fundamental, mhm â€” ist ein dezentralisiertes Versionskontrollsystem, entwickelt von Linus Torvalds im Jahre 2005 fÃ¼r den Linux-Kernel, welches auf einem Directed Acyclic Graph (DAG) von Commit-Objekten basiert, wobei jeder Commit einen kryptografischen SHA-1-Hash-Fingerabdruck des gesamten Repository-Zustands trÃ¤gt. Im Gegensatz zu zentralisierten Systemen wie Subversion (SVN) existiert bei Git kein Single Point of Authority â€” jeder Klon ist ein vollstÃ¤ndiges Repository mit vollstÃ¤ndiger History, mhm. Kernkonzepte: Working Directory â†’ Staging Area (Index) â†’ Local Repository â†’ Remote Repository. Elementare Befehle: git init, git add, git commit, git push, git pull, git clone, git branch, git merge. Die Branching-Strategie nach GitFlow unterscheidet zwischen main, develop, feature-, release- und hotfix-Branches. Haben wir das soweit kapiert, hmm? Mhm?`
  },
  {
    keywords: ["github"],
    antwort: `Also, GitHub â€” das ist ein wesentlicher Unterschied zu Git, den ich nun erlÃ¤utern werde, mhm â€” ist eine webbasierte, cloudgehostete Plattform fÃ¼r die kollaborative Softwareentwicklung, welche Git-Repositories als technologische Grundlage verwendet und diese um soziale sowie projektmanagementbezogene MetafunktionalitÃ¤ten erweitert. GitHub, 2008 gegrÃ¼ndet und seit 2018 im Eigentum der Microsoft Corporation, bietet: Ã¶ffentliche und private Repositories, Pull Requests als Mechanismus fÃ¼r Code-Review und Branch-Merging, Issues fÃ¼r Bug-Tracking, GitHub Actions fÃ¼r CI/CD-Pipelines, GitHub Pages fÃ¼r statisches Webhosting (was wir hier ja gerade nutzen, mhm!), sowie GitHub Copilot als KI-gestÃ¼tzten Code-Assistenten. Kurz gesagt: Git = das Werkzeug, GitHub = die soziale Plattform darum herum. Haben wir das soweit verstanden, hmm? Mhm?`
  },
  {
    keywords: ["pythagoras", "satz des", "hypotenuse", "kathete", "rechtwinklig"],
    antwort: `Also, der Satz des Pythagoras â€” benannt nach dem griechischen Mathematiker und Philosophen Pythagoras von Samos, circa 570 bis 495 vor Christus, obwohl das Theorem in Babylonien bereits 1000 Jahre frÃ¼her bekannt war, mhm â€” lautet in seiner axiomatisch-geometrischen Formulierung: In einem rechtwinkligen Dreieck ist das Quadrat der LÃ¤nge der Hypotenuse â€” also der dem rechten Winkel gegenÃ¼berliegenden und zugleich lÃ¤ngsten Seite â€” gleich der Summe der Quadrate der LÃ¤ngen beider Katheten. Formal: aÂ² + bÂ² = cÂ², wobei c die Hypotenuse und a, b die Katheten bezeichnen. Daraus folgt: c = âˆš(aÂ² + bÂ²). Anwendungsfall: Gegeben a=3, b=4, dann c=âˆš(9+16)=âˆš25=5. Das sogenannte 3-4-5-Dreieck. Haben wir das soweit nachvollzogen, hmm? Mhm?`
  },
  {
    keywords: ["variable", "variablen", "datentyp"],
    antwort: `Also, eine Variable â€” ich sage das jetzt ein fÃ¼r alle Mal, mhm â€” ist ein symbolischer Bezeichner, also ein Identifikator, fÃ¼r einen Speicherbereich im Arbeitsspeicher (RAM) des Computers, welcher zur Laufzeit des Programms einen Datenwert eines bestimmten Datentyps aufnehmen kann und dessen Inhalt â€” im Gegensatz zu einer Konstanten â€” mutabel, also verÃ¤nderbar ist. Eine Variable besitzt: einen Namen (Identifikator), einen Datentyp (Integer, Float, String, Boolean, etc.), einen Wert und eine Speicheradresse. In statisch typisierten Sprachen wie Java oder C muss der Datentyp bei der Deklaration explizit angegeben werden: int zahl = 42; â€” in dynamisch typisierten Sprachen wie Python wird der Typ zur Laufzeit inferiert: zahl = 42. Die Lebensdauer einer Variable wird durch ihren GÃ¼ltigkeitsbereich (Scope) â€” lokal oder global â€” determiniert. Haben wir das begriffen, hmm? Mhm?`
  },
  {
    keywords: ["funktion", "methode", "prozedur", "parameter", "return"],
    antwort: `Also, eine Funktion â€” oder in der objektorientierten Programmierung Methode genannt, mhm â€” ist ein benannter, wiederverwendbarer, gekapselt vorliegender Codeblock, welcher eine spezifische, klar abgegrenzte Aufgabe im Rahmen des Separation-of-Concerns-Prinzips erfÃ¼llt und Ã¼ber seinen Bezeichner aufgerufen werden kann. Eine Funktion nimmt optional Eingabeparameter entgegen, verarbeitet diese gemÃ¤ÃŸ ihrer internen Logik und gibt optional einen RÃ¼ckgabewert zurÃ¼ck â€” das return-Statement. Dies entspricht dem mathematischen Funktionsbegriff f(x) = y, mhm. Vorteile: Code-Wiederverwendung (DRY-Prinzip: Don't Repeat Yourself), bessere Lesbarkeit, einfachere Testbarkeit (Unit-Tests). In Python: def berechne(a, b): return a + b. In Java: public int berechne(int a, int b) { return a + b; }. Haben wir das soweit verstanden, hmm? Mhm?`
  },
  {
    keywords: ["array", "liste", "datenstruktur", "vektor"],
    antwort: `Also, ein Array â€” auch Vektor, Feld oder in hÃ¶heren Sprachen Liste genannt, mhm â€” ist eine lineare, homogene Datenstruktur, welche eine sequenzielle Sammlung von Elementen desselben Datentyps unter einem einzigen Bezeichner in zusammenhÃ¤ngenden Speicherzellen beherbergt, wobei auf jedes Element Ã¼ber seinen nullbasierten (in Java, C, Python) oder einbasierten (in einigen anderen Sprachen) Index in konstanter Zeit O(1) zugegriffen werden kann â€” das ist der entscheidende Vorteil gegenÃ¼ber verketteten Listen! Ein Array int[] zahlen = {1,2,3,4,5} hat die LÃ¤nge 5, Indizes 0 bis 4, mhm. Achtung: In Java ist die ArrayIndexOutOfBoundsException der hÃ¤ufigste Laufzeitfehler bei unerfahrenen â€” ich sage das neutral â€” Programmierern. Haben wir das soweit nachvollzogen, hmm? Mhm?`
  },
  {
    keywords: ["binÃ¤r", "binÃ¤rsystem", "bits", "bytes", "dualsystem"],
    antwort: `Also, das BinÃ¤rsystem oder Dualsystem â€” fundamental fÃ¼r das VerstÃ¤ndnis digitaler Computertechnik, mhm â€” ist ein Stellenwertsystem mit der Basis 2, das heiÃŸt, es kennt ausschlieÃŸlich die Ziffern 0 und 1, die sogenannten Bits (Binary Digits), was unmittelbar dem physikalischen Zustand elektronischer Schaltkreise entspricht: Strom flieÃŸt (1) oder Strom flieÃŸt nicht (0). 8 Bits ergeben 1 Byte, welches 2^8=256 verschiedene Werte (0-255) reprÃ¤sentieren kann. Die Umrechnung Dezimalâ†’BinÃ¤r erfolgt durch sukzessive Division durch 2 mit Restnotierung: 13 Ã· 2 = 6 Rest 1, 6 Ã· 2 = 3 Rest 0, 3 Ã· 2 = 1 Rest 1, 1 Ã· 2 = 0 Rest 1 â†’ 1101â‚‚. RÃ¼ckrechnung: 1Ã—2Â³+1Ã—2Â²+0Ã—2Â¹+1Ã—2â° = 8+4+0+1 = 13. Haben wir das soweit, hmm? Mhm?`
  },
  {
    keywords: ["prozent", "prozentsatz", "prozentrechnung", "rabatt"],
    antwort: `Also, die Prozentrechnung â€” ein fundamentales Element der elementaren Arithmetik und Finanzmathematik, mhm â€” basiert auf der Definition des Prozents als Hundertstel, also 1% = 1/100 = 0,01. Die drei Grundformeln sind: (1) Prozentwert W = Grundwert G Ã— Prozentsatz p/100; (2) Prozentsatz p = (W/G) Ã— 100; (3) Grundwert G = W/(p/100). Beispiel: Von 200 Euro sollen 15% berechnet werden: W = 200 Ã— 15/100 = 200 Ã— 0,15 = 30 Euro. Bei Rabatten: Neuer Preis = Grundpreis Ã— (1 - Rabatt/100), also 200 Ã— 0,85 = 170 Euro. Bei AufschlÃ¤gen: 200 Ã— 1,15 = 230 Euro. Compound Interest â€” Zinseszins â€” lautet: K_n = K_0 Ã— (1 + p/100)^n. Haben wir das soweit begriffen, hmm? Mhm?`
  },
  {
    keywords: ["algorithmus", "algorithmen"],
    antwort: `Also, ein Algorithmus â€” der Begriff leitet sich Ã¼brigens vom Namen des persischen Mathematikers Muhammad ibn Musa al-Chwarizmi ab, mhm â€” ist eine endliche, eindeutige und ausfÃ¼hrbare Folge von wohldefinierten Handlungsanweisungen zur LÃ¶sung eines Problems oder einer Klasse von Problemen, wobei die Eigenschaften Finitheit (der Algorithmus terminiert), Definitheit (jeder Schritt ist eindeutig), EffektivitÃ¤t (jeder Schritt ist ausfÃ¼hrbar) und â€” optional â€” Determiniertheit (gleiche Eingabe ergibt gleiche Ausgabe) gelten mÃ¼ssen. Beispiele: Sortieralgorithmen (Bubble Sort O(nÂ²), Quick Sort O(n log n)), Suchalgorithmen (Lineare Suche O(n), BinÃ¤re Suche O(log n)). Die KomplexitÃ¤t wird in der Landau-Notation (Big-O) ausgedrÃ¼ckt. Haben wir das soweit verstanden, hmm? Mhm?`
  }
];

// â”€â”€â”€ SPEZIAL-REAKTIONEN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const NEIN_REAKTION = `Ja, besser zuhÃ¶ren hÃ¤ttest mÃ¼ssen! Aber wenn du wirklich mal was nicht verstehst â€” und das soll vorkommen, mhm â€” kannst du natÃ¼rlich nachfragen. Stimmt wirklich. Also nochmal, fÃ¼r diejenigen die es noch nicht verstanden haben:`;

const JA_REAKTION_ERROR = `âš ï¸ ERROR 404: VERSTÃ„NDNIS NICHT GEFUNDEN âš ï¸

Das kann nicht mÃ¶glich sein! Wie hast du das denn bitte verstanden?? Ich unterrichte seit 23 Jahren und NOCH NIE hat ein SchÃ¼ler meinen Stoff beim ersten Mal verstanden â€” das verstÃ¶ÃŸt gegen alle bekannten pÃ¤dagogischen GesetzmÃ¤ÃŸigkeiten, mhm!

ðŸ† NEUER ERFOLG FREIGESCHALTET: "SchÃ¼tz-Wunder" ðŸ†

Ich muss das sofort dem Schulleiter melden. Trotzdem erklÃ¤re ich es der VollstÃ¤ndigkeit halber nochmals:`;

const UNBEKANNT_REAKTION = `Also, ich muss â€” mit gewisser akademischer PrÃ¤zision â€” konstatieren, dass Ihre Anfrage in ihrer derzeitigen semiotischen Formulierung einer eindeutigen Disambiguierung bedarf, mhm. Konkret bedeutet das: Ich hab's nicht ganz verstanden was Sie meinen. Versuchen Sie es mit: if-Abfrage, Schleife, Struktogramm, Variable, Funktion, Git, GitHub, Pythagoras, BinÃ¤rsystem, Prozentrechnung oder Algorithmus. Haben wir das soweit verstanden, hmm? Mhm?`;

const BEGRUESSUNG = `Also, wie ich bereits â€” oder vielmehr, prÃ¤ziser formuliert, und ich betone dies fÃ¼r alle Anwesenden â€” ausgefÃ¼hrt habe: Willkommen im digitalisierten Lernraum der Informatik! Ich bin Herr SchÃ¼tz, Ihr Lehrender fÃ¼r Informatik und angrenzende Disziplinen. Stellen Sie mir Ihre Fragen zu Informatik, Mathematik, Git oder GitHub â€” ich werde diese mit der mir eigenen didaktischen PrÃ¤zision und akademischen TiefgrÃ¼ndigkeit beantworten, mhm. Habt ihr das soweit verstanden, hmm? Mhm?`;

// â”€â”€â”€ ZUSTAND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let lastTopic = null;
let achievementUnlocked = false;

// â”€â”€â”€ DOM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const messagesEl = document.getElementById('messages');
const typingEl   = document.getElementById('typing');
const inputEl    = document.getElementById('userInput');

function addMessage(text, type = 'teacher', extraClass = '') {
  const div = document.createElement('div');
  div.className = `msg ${type} ${extraClass}`;

  const label = document.createElement('div');
  label.className = 'msg-label';
  label.textContent = type === 'teacher' ? 'ðŸ‘¨â€ðŸ« SchÃ¼tz' : 'ðŸ§‘â€ðŸ’» Du';

  const bubble = document.createElement('div');
  bubble.className = 'msg-bubble';
  bubble.textContent = text;

  div.appendChild(label);
  div.appendChild(bubble);
  messagesEl.appendChild(div);
  messagesEl.scrollTop = messagesEl.scrollHeight;
}

function showAchievement(text) {
  const toast = document.getElementById('achievementToast');
  toast.textContent = 'ðŸ† ACHIEVEMENT: ' + text;
  toast.style.display = 'block';
  toast.style.animation = 'none';
  void toast.offsetWidth;
  toast.style.animation = 'toastIn 0.5s ease forwards';
  setTimeout(() => {
    toast.style.animation = 'toastOut 0.5s ease forwards';
    setTimeout(() => toast.style.display = 'none', 500);
  }, 4000);
}

function findAntwort(text) {
  const lower = text.toLowerCase();
  for (const item of antworten) {
    if (item.keywords.some(k => lower.includes(k))) return item;
  }
  return null;
}

function isNein(text) {
  const lower = text.toLowerCase();
  return lower.includes('nein') || lower.includes('nicht verstanden') || lower.includes('versteh') && lower.includes('nicht') || lower === 'n';
}

function isJa(text) {
  const lower = text.toLowerCase();
  return (lower.includes('ja') || lower.includes('verstanden') || lower.includes('kapiert') || lower.includes('klar') || lower.includes('ok')) && !isNein(text);
}

function respond(userText) {
  const lower = userText.toLowerCase();

  // Hallo etc.
  if (lower.match(/^(hallo|hi|hey|guten|moin|servus)/) ) {
    return { text: BEGRUESSUNG, cls: '' };
  }

  // "Nein, nicht verstanden"
  if (isNein(lower)) {
    if (lastTopic) {
      return { text: NEIN_REAKTION + '\n\n' + lastTopic.antwort, cls: '' };
    }
    return { text: `Ja, besser zuhÃ¶ren hÃ¤ttest mÃ¼ssen, mhm! Stellen Sie zunÃ¤chst eine konkrete Frage, dann kÃ¶nnen wir das Nein-Verstehen auch entsprechend einordnen, hmm?`, cls: '' };
  }

  // "Ja, verstanden"
  if (isJa(lower) && !findAntwort(lower)) {
    if (!achievementUnlocked) {
      achievementUnlocked = true;
      setTimeout(() => showAchievement('SchÃ¼tz-Wunder â€” UnmÃ¶gliches ist eingetreten!'), 800);
    }
    let extra = lastTopic ? '\n\nAber der VollstÃ¤ndigkeit halber nochmals:\n\n' + lastTopic.antwort : '';
    return { text: JA_REAKTION_ERROR + extra, cls: 'error achievement' };
  }

  // Thema suchen
  const match = findAntwort(lower);
  if (match) {
    lastTopic = match;
    return { text: match.antwort, cls: '' };
  }

  // Unbekannt
  return { text: UNBEKANNT_REAKTION, cls: '' };
}

function sendMessage() {
  const text = inputEl.value.trim();
  if (!text) return;
  addMessage(text, 'student');
  inputEl.value = '';

  typingEl.classList.add('active');
  const delay = 900 + Math.random() * 800;

  setTimeout(() => {
    typingEl.classList.remove('active');
    const result = respond(text);
    addMessage(result.text, 'teacher', result.cls);
  }, delay);
}

function quickSend(text) {
  inputEl.value = text;
  sendMessage();
}

inputEl.addEventListener('keydown', e => { if (e.key === 'Enter') sendMessage(); });

// BegrÃ¼ÃŸung beim Start
window.addEventListener('load', () => {
  setTimeout(() => addMessage(BEGRUESSUNG, 'teacher'), 600);
});
</script>
</body>
</html>
